<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">l4x.org</title>
<subtitle type="html"><![CDATA[
Home of Jan Dittmer
]]></subtitle>
<id>https://l4x.org/uc/atmel_invalid_device_signature.atom</id>
<link rel="alternate" type="text/html" href="https://l4x.org" />
<link rel="self" type="application/atom+xml" href="https://l4x.org/uc/atmel_invalid_device_signature.atom" />


<author>
<name>jdi et al.</name>
<uri>https://l4x.org/uc/atmel_invalid_device_signature.atom</uri>
<email>jdi@l4x.org</email>
</author>
<rights>Copyright 2008-2016 Jan Dittmer</rights>
<generator uri="http://pyblosxom.sourceforge.net/" version="1.5.3">
PyBlosxom http://pyblosxom.sourceforge.net/ 1.5.3
</generator>

<updated>2010-11-12T16:06:00Z</updated>
<!-- icon?  logo?  -->

<entry>
<title type="html">Atmel 8-bit devices and invalid device signatures</title>
<category term="" />
<id>https://l4x.org/2010/11/12/atmel_invalid_device_signature</id>
<updated>2010-11-12T16:06:00Z</updated>
<published>2010-11-12T16:06:00Z</published>
<link rel="alternate" type="text/html" href="https://l4x.org/uc/atmel_invalid_device_signature.html" />
<content type="html">
&lt;p&gt;It just took me the better part of a day to find out
why my o-so-simple microcontroller couldn&#x27;t be programmed.
I&#x27;ve this really simple board, consisting basically of a
&lt;a href=&quot;http:&#x2F;&#x2F;www.atmel.com&#x2F;dyn&#x2F;products&#x2F;product_card.asp?part_id=2004&quot;&gt;ATmega8&lt;&#x2F;a&gt;
or ATmega8l, a 6-pin standard ISP connector and some surrounding
power supply parts (no external clock).&lt;&#x2F;p&gt;

&lt;p&gt;Now, if you take a ATmega8 from the reel it comes pre-programmed
to run with 1 MHz from the internal oscillator. Trying to access and
program the device connected to an STK500 SDK using &lt;em&gt;avrdude&lt;&#x2F;em&gt; always
resulted in errors:
&lt;pre&gt;avrdude: Device signature = 0x010305&lt;&#x2F;pre&gt; or
&lt;pre&gt;avrdude: Device signature = 0x010307&lt;&#x2F;pre&gt; Strange.
Because normally you can either program the device or it doesn&#x27;t
respond at all (0x010301 and 0x010304 also turned up sometimes, in
AVR studio speak: 0x01 0x03 [0x05,0x04,0x01].&lt;&#x2F;p&gt;
&lt;p&gt;I double checked all solder connections and
even tried three (!) different devices on different PCBs, even from
different production lots. Always the same error.&lt;&#x2F;p&gt;
&lt;p&gt;Meanwhile I had already
checked the STK500 against other development boards equipped
with an ATmega168 and ATmega8 - those worked.&lt;&#x2F;p&gt;
&lt;p&gt;Finally I dug out an old Windows XP machine running the
AVRstudio, and there it occurred to me:&lt;&#x2F;p&gt;
&lt;img src=&quot;&#x2F;uc&#x2F;atmega8_stk500_fail.jpg&quot; alt=&quot;atmega8 stk500 isp frequency&quot;&gt;
&lt;p&gt;To speed up programming, I had increased the ISP frequency from
default 115.2 kHz to 460.8 kHz. Turns out that the fine print says,
that the ISP frequency should be lower than 1&#x2F;4 of the microcontroller
clock (1 MHz in this case). 1 MHz &#x2F; 4 = 250 kHz - so I was well above.
Turning the frequency down to 115.2 kHz made everything magically work.
&lt;pre&gt;avrdude: Device signature = 0x1e9307
avrdude: safemode: Fuses OK
avrdude done.  Thank you.&lt;&#x2F;pre&gt;
&lt;&#x2F;p&gt;
&lt;p&gt;I hope to save someone else some time with this post&lt;&#x2F;p&gt;


</content>
</entry>
</feed>
