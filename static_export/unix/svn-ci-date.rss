<?xml version="1.0" encoding="utf-8"?>
<!-- name="generator" content="pyblosxom/1.5.3" -->
<!DOCTYPE rss PUBLIC "-//Netscape Communications//DTD RSS 0.91//EN" "http://my.netscape.com/publish/formats/rss-0.91.dtd">

<rss version="0.91">
<channel>
<title>l4x.org   </title>
<link>https://l4x.org</link>
<description>Home of Jan Dittmer</description>
<language>en</language>
<item>
  <title>How to back date a subversion checkin</title>
  <link>https://l4x.org/unix/svn-ci-date.html</link>
  <description><![CDATA[

While setting up a new subversion (svn) repository for my
old blog entries, I wanted to keep the original dates (mtime of
the file) in the checkin commit (for use with the pyblosxom
svn plugin). After a quick online research I came up with the
following script:

<pre>
#!/bin/sh
# svn-ci-date.sh
# Jan Dittmer &lt;jdi@l4x.org&gt; 2008
# Use at your own risk
#

D=`ls -l "$1" | cut -f6-7 -d' ' | sed 's/ /T/'`
D="${D}:00.000000Z"
echo "Date: $D"
if ! svn add "$1"; then exit 1; fi
if ! svn ci -m "Date $D" "$1"; then exit 2; fi
R=`svn info "$1" | grep "^Revision: " | cut -f2 -d' '`
echo "Revision: $R"
if [ "$R" == "" ]; then exit 3; fi
if ! svn propset --revprop svn:date -r$R "$D"; then exit 4; fi
</pre>

Please note, that subversion does not do any sanity checking on the
svn:date property. If svn log reports a 'Bogus Date' afterwards, make
sure your dates have the format 'YYYY-MM-DDThh:mm:ss.uuuuuuZ'.



]]></description>
</item>

</channel>
</rss>
