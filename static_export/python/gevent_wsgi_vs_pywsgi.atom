<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">l4x.org</title>
<subtitle type="html"><![CDATA[
Home of Jan Dittmer
]]></subtitle>
<id>https://l4x.org/python/gevent_wsgi_vs_pywsgi.atom</id>
<link rel="alternate" type="text/html" href="https://l4x.org" />
<link rel="self" type="application/atom+xml" href="https://l4x.org/python/gevent_wsgi_vs_pywsgi.atom" />


<author>
<name>jdi et al.</name>
<uri>https://l4x.org/python/gevent_wsgi_vs_pywsgi.atom</uri>
<email>jdi@l4x.org</email>
</author>
<rights>Copyright 2008-2016 Jan Dittmer</rights>
<generator uri="http://pyblosxom.sourceforge.net/" version="1.5.3">
PyBlosxom http://pyblosxom.sourceforge.net/ 1.5.3
</generator>

<updated>2013-11-16T21:00:00Z</updated>
<!-- icon?  logo?  -->

<entry>
<title type="html">Python: gevent&#x27;s WSGIServer, wsgi vs. pywsgi
</title>
<category term="" />
<id>https://l4x.org/2013/11/16/gevent_wsgi_vs_pywsgi</id>
<updated>2013-11-16T21:00:00Z</updated>
<published>2013-11-16T21:00:00Z</published>
<link rel="alternate" type="text/html" href="https://l4x.org/python/gevent_wsgi_vs_pywsgi.html" />
<content type="html">&lt;p&gt;The gevent wsgi server is one of the fastest out in the open.
I switched part of my applications to it and everything worked
fine after restarting the server and testing locally.  Unfortunately my
&lt;tt class=&quot;docutils literal&quot;&gt;haproxy&lt;&#x2F;tt&gt; frontend loadbalancer is not able to see the new backend
though.  Turns out that &lt;tt class=&quot;docutils literal&quot;&gt;gevent.wsgi&lt;&#x2F;tt&gt; does not support HTTP 1.0 which
&lt;tt class=&quot;docutils literal&quot;&gt;haproxy&lt;&#x2F;tt&gt; uses for health checking.&lt;&#x2F;p&gt;
&lt;p&gt;The simple solution is to use &lt;tt class=&quot;docutils literal&quot;&gt;gevent.pywsgi&lt;&#x2F;tt&gt;.  This has some performance
penalty though.&lt;&#x2F;p&gt;
&lt;p&gt;An alternative might be (untested) to configure &lt;tt class=&quot;docutils literal&quot;&gt;haproxy&lt;&#x2F;tt&gt; with HTTP 1.1
healthchecks:&lt;&#x2F;p&gt;
&lt;pre class=&quot;literal-block&quot;&gt;
option httpchk OPTIONS &#x2F; 1.1
&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
</content>
</entry>
</feed>
